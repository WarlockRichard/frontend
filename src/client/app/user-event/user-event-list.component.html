<div *ngIf="isLoaded">
  <table class="table table-striped mt-1">
    <thead>
      <tr>
        <th>#</th>
        <th>{{ 'T_EVENT_DESCRIPTION' | translate }}</th>
        <th>{{ 'T_EVENT_START' | translate }}</th>
        <th>{{ 'T_EVENT_END' | translate }}</th>
        <th class="actions-column" *ngIf="status !== EventStatus.NotStarted">
          {{ 'T_ACTION' | translate }}
        </th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let model of list">
        <td>{{ model.id }}</td>
        <td>{{ model.description }}</td>
        <td>{{ model.start | date: 'mediumDate' }}</td>
        <td>{{ model.end | date: 'mediumDate' }}</td>
        <td class="actions-column" *ngIf="status !== EventStatus.NotStarted" [ngSwitch]="status">
          <ng-template [ngSwitchCase]="EventStatus.InProgress">
            <button type="button"
                    class="btn btn-sm btn-success ml-1"
                    title="{{ 'T_ACTION_ASSESS' | translate }}"
                    [routerLink]="['/events', model.id]">
              <i class="fa fa-hand-pointer-o"></i> {{ 'T_ACTION_ASSESS' | translate}}
            </button>
          </ng-template>
          <ng-template [ngSwitchCase]="EventStatus.Completed">
            <button type="button"
                    class="btn btn-sm btn-success ml-1"
                    title="{{ 'T_ACTION_VIEW_ASSESSMENT' | translate }}"
                    [routerLink]="['/events', model.id]">
              <i class="fa fa-hand-pointer-o"></i> {{ 'T_ACTION_VIEW_ASSESSMENT' | translate}}
            </button>
          </ng-template>
        </td>
      </tr>

      <tr *ngIf="!list.length">
        <td colspan="25" class="text-center">{{ 'T_EMPTY' | translate }}</td>
      </tr>
    </tbody>
  </table>

  <bs-pagination [meta]="meta"
                 (queryParamsChange)="pageQueryParamsChanged($event)"></bs-pagination>
</div>


