<div *ngIf="!readonly">
  <h6>{{ 'T_ACTION_ADD_NEW_ASSESSMENT_EVENT_NOTIFICATIONS' | translate }}:</h6>
  <form class="mb-1 mt-2" #addNewNotificationForm="ngForm">
    <div class="form-group row mb-1">
      <label class="col-form-label col-4 " for="time">{{ 'T_EVENT_NOTIFICATION_TIME' | translate }}</label>
      <div class="col-8">
        <input #time
               id="time"
               name="time"
               type="date"
               class="form-control"
               required>
      </div>
    </div>
    <div class="form-group row mb-1">
      <label class="col-form-label col-4 " for="recipient">{{ 'T_EVENT_RECIPIENT' | translate }}</label>
      <div class="col-8">
        <select #recipient
                id="recipient"
                name="recipient"
                class="form-control"
                ngModel
                required>
          <option *ngFor="let item of recipients" [value]="item">{{ 'T_EVENT_RECIPIENT_' + item.toUpperCase() | translate }}</option>
        </select>
      </div>
    </div>
    <div class="form-group row mb-1">
      <label class="col-form-label col-4 " for="kind">{{ 'T_EVENT_NOTIFICATION_KIND' | translate }}</label>
      <div class="col-8">
        <select #kind
                id="kind"
                name="kind"
                class="form-control"
                ngModel
                required>
          <option *ngFor="let item of kinds" [value]="item">{{ 'T_EVENT_NOTIFICATION_' + item.toUpperCase() | translate }}</option>
        </select>
      </div>
    </div>
    <div class="text-right">
      <button type="button" class="btn btn-sm btn-success"
              [disabled]="!time.value || !addNewNotificationForm.valid"
              (click)="addNotification(time.value, recipient.value, kind.value); addNewNotificationForm.reset();">
        <i class="mr-h fa fa-plus"></i> {{ 'T_ACTION_ADD' | translate }}
      </button>
    </div>
  </form>

</div>
<table class="table table-striped">
  <th>{{ 'T_EVENT_RECIPIENT' | translate}}</th>
  <th>{{ 'T_EVENT_NOTIFICATION_KIND' | translate}}</th>
  <th>{{ 'T_EVENT_NOTIFICATION_TIME' | translate}}</th>
  <th class="actions-column" *ngIf="!readonly">{{ 'T_ACTION' | translate }}</th>
  <tbody>
    <tr *ngFor="let item of event.notifications">
      <td>{{ 'T_EVENT_RECIPIENT_' + item.recipient.toUpperCase() | translate }}</td>
      <td>{{ 'T_EVENT_NOTIFICATION_' + item.kind.toUpperCase() | translate }}</td>
      <td>{{ item.time | date:'medium' }}</td>
      <td class="actions-column" *ngIf="!readonly">
        <button type="button"
                class="btn btn-danger btn-sm"
                (click)="deleteNotification(item)">
          <i class="mr-h fa fa-remove"></i>
          {{ 'T_ACTION_DELETE' | translate }}
        </button>
      </td>
    </tr>
    <tr *ngIf="!event.notifications.length">
      <td colspan="25" class="text-center">{{ 'T_EMPTY' | translate }}</td>
    </tr>
  </tbody>
</table>
